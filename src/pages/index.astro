---
import BaseLayout from "../layouts/BaseLayout.astro";
---

<BaseLayout
  title="Prototype Starter"
  description="Drop in your shadcn/ui theme, sync with Figma, and ship a prototype fast."
  bodyClass="bg-background"
  showHeader={false}
  showFooter={false}
>
  <section slot="main" class="px-page pb-page pt-16">
    <div class="page-shell stack-xl">
      <div class="flex flex-col items-center justify-between gap-4 rounded-full border border-border/60 px-4 py-2 text-sm text-muted-foreground sm:flex-row">
        <p>Preview light and dark modes while you theme.</p>
        <button
          class="inline-flex items-center gap-2 rounded-full border border-border px-4 py-2 font-semibold transition hover:border-foreground focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-ring"
          data-theme-toggle
          type="button"
        >
          Toggle Theme
        </button>
      </div>
      <div class="stack-md text-center">
        <p class="text-label-xs text-muted-foreground tracking-widest uppercase">Astro Â· React Â· shadcn/ui</p>
        <h1 class="text-display-lg leading-display-lg tracking-display-lg text-foreground">
          Your sandbox is ready.
        </h1>
        <p class="text-body-lg text-muted-foreground max-w-2xl mx-auto">
          Use this page as a mini design system reference. Swap the theme, sync real components from Figma,
          and then replace this section with your AppShell once you are ready to explore flows.
        </p>
        <div class="flex flex-wrap items-center justify-center gap-4">
          <a
            class="inline-flex items-center gap-2 rounded-full bg-primary px-5 py-2 text-sm font-semibold text-primary-foreground transition hover:bg-primary/90 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary"
            href="https://tweakcn.com/editor/theme"
            target="_blank"
            rel="noreferrer"
          >
            Open Theme Tool
          </a>
          <a
            class="inline-flex items-center gap-2 rounded-full border border-border px-5 py-2 text-sm font-semibold text-foreground transition hover:border-foreground/60 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-ring"
            href="https://help.figma.com/hc/en-us/articles/32132100833559-Guide-to-the-Figma-MCP-server"
            target="_blank"
            rel="noreferrer"
          >
            Figma MCP Guide
          </a>
        </div>
      </div>

      <div class="grid gap-6 md:grid-cols-3">
        <article class="surface-card card-padding stack-sm rounded-2xl border border-border shadow-ambient">
          <p class="text-label-xs text-primary uppercase">Step 1</p>
          <h2 class="text-title-sm text-foreground">Dial in theming</h2>
          <p class="text-body-md text-muted-foreground">
            Paste the shadcn theme snippet into the <strong>Theme Drop Zone</strong> inside
            <code class="rounded bg-muted px-1 py-0.5 text-xs">src/styles/global.css</code>.
            Update the Google Fonts import if your palette uses a different family or weights.
          </p>
          <ul class="space-y-2 text-body-sm text-muted-foreground">
            <li>âœ… Keep Template Extensions untouched.</li>
            <li>âœ… Run `npm run dev` to preview colors + typography.</li>
          </ul>
        </article>

        <article class="surface-card card-padding stack-sm rounded-2xl border border-border shadow-ambient">
          <p class="text-label-xs text-primary uppercase">Step 2</p>
          <h2 class="text-title-sm text-foreground">Sync UI from Figma</h2>
          <p class="text-body-md text-muted-foreground">
            Before coding screens, fetch the referenced frames via the Figma MCP server so spacing,
            typography, and icon choices match exactly.
          </p>
          <ul class="space-y-2 text-body-sm text-muted-foreground">
            <li>ðŸŽ¯ Map icons to Lucide equivalents.</li>
            <li>ðŸ“¥ Import `data/figma-tailwind-classes.json` `data/figma-tailwind-colors.json` into Figma variables so spacing + radii match Tailwind.</li>
            <li>ðŸ§± Check `src/components/ui` for existing shadcn primitives.</li>
            <li>âž• Need more? Run `npx shadcn@latest add &lt;component&gt;`.</li>
          </ul>
        </article>

        <article class="surface-card card-padding stack-sm rounded-2xl border border-border shadow-ambient">
          <p class="text-label-xs text-primary uppercase">Step 3</p>
          <h2 class="text-title-sm text-foreground">Prompt the AI teammate</h2>
          <p class="text-body-md text-muted-foreground">
            Open your preferred AI chat (e.g. GPT, Claude) and ask it to act as an expert prompt engineer.
            Have it craft a concise system prompt for the agent working in this repo, describing the UI or flow
            you want to prototype.
          </p>
          <ul class="space-y-2 text-body-sm text-muted-foreground">
            <li>ðŸ§  Share constraints: data shape, interactions, accessibility goals.</li>
            <li>ðŸ“‹ Copy that prompt into the agent session here to kick off implementation.</li>
            <li>ðŸš€ Iterate by describing refinements; run `npm run build` before commits.</li>
            <li>ðŸŒ¿ Push work to a branch per variant and trigger the GitHub Action to publish its own preview URL.</li>
          </ul>
        </article>
      </div>
    </div>
  </section>
</BaseLayout>
<script is:inline>
  const root = document.documentElement;
  const toggleButton = document.querySelector("[data-theme-toggle]");

  const applyStoredPreference = () => {
    if (localStorage.getItem("prefers-dark") === "true") {
      root.classList.add("dark");
    }
  };

  const toggleTheme = () => {
    if (root.classList.contains("dark")) {
      root.classList.remove("dark");
      localStorage.removeItem("prefers-dark");
    } else {
      root.classList.add("dark");
      localStorage.setItem("prefers-dark", "true");
    }
  };

  applyStoredPreference();
  toggleButton?.addEventListener("click", toggleTheme);
</script>
